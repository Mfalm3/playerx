---js
{
  title: "Playerx - API Demo",
  layout: "layouts/demo-player.njk",
  tags: ["demo"],
  pagination: {
    data: "players",
    size: 1,
    alias: "player",
    before: function(data) {
      const pages = [];
      data.forEach(entry => {
        pages.push(entry);
        entry.clips.slice(1).forEach((_, i) => {
          pages.push({
            ...entry,
            clipIndex: i + 1
          })
        })
      });
      return pages;
    }
  },
  permalink: "/demo/{{ player.name | slug }}/{% if player.clipIndex > 0 %}{{ player.clipIndex + 1 }}/{% endif %}"
}
---
